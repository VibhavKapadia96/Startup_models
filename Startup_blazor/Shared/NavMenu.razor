@inherits ParentsNav

<div class="top-row pl-4 navbar navbar-dark">
    <a class="navbar-brand" href="">Catlyse</a>
    <button class="navbar-toggler" @onclick="ToggleNavMenu">
        <span class="navbar-toggler-icon"></span>
    </button>
</div>

@if (Categories == null)
{
    <div class="spinner-grow">Loading..</div>
}
else
{
    <div class="@NavMenuCssClass" @onclick="ToggleNavMenu">

        @foreach (var parent in Categories)
        {

            <ul class="nav flex-column">
                <li class="nav-item px-3">
                    <NavLink class="nav-link" href="@($"{parent.Category_Name}")" Match="NavLinkMatch.All" @onclick="(() => HandleClick(parent.Category_Name))">
                        <span class="oi" aria-hidden="true"></span> @parent.Category_Name
                    </NavLink>
                </li>

            </ul>
        }
    </div>
}

@code {
    private bool collapseNavMenu = true;

    private string NavMenuCssClass => collapseNavMenu ? "collapse" : null;

    @inject NavigationManager NavigationManager;

    private void HandleClick(string name)
    {
        NavigationManager.NavigateTo(name, true);
    }



    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }
}
